{% extends 'base.html' %}

{% block head %}
    {{ super() }}
{#    <script src="https://cdn.ckeditor.com/ckeditor5/31.0.0/classic/ckeditor.js"></script>#}
    <script src="{{ url_for('static', filename='js/ckeditor.js') }}"></script>
{% endblock head %}

{% block title %}New Answer{% endblock title %}


{% block content %}
    <div class="page-header">
        <h1>New Answer</h1>
    </div>
    <form action="{{ url_for('answer.new_answer') }}" method="post">
        {{ form.csrf_token }}
        <div class="form-group">
            {{ form.title.label }}
            {{ form.title(class='form-control') }}
        </div>
        <div class="form-group">
            {{ form.content.label }}
            <div id="editor">
                {{ form.content(class='form-control') }}
            </div>
        </div>
        <div class="form-group">
            {{ form.author.label }}
            {{ form.author(class='form-control') }}
        </div>
        <div class="form-group">
            {{ form.links.label }}
            {{ form.links(class='form-control') }}
        </div>
        <div class="form-group">
            {{ form.note.label }}
            {{ form.note(class='form-control') }}
        </div>
        {{ form.submit(class='btn-sm btn-primary') }}
    </form>

{% endblock content %}

{% block scripts %}
    {{ super() }}
    <script>
        ClassicEditor
        .create( document.querySelector( '#editor' ) )
        .catch( error => {
            console.error( error );
        } );
    </script>
{% endblock scripts %}